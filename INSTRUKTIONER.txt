üìë Komplett beskrivning av Carpe Alfa (Carpe Tempus)
üé® Layout (m√•ste bevaras)
‚Ä¢	Titelrad:
Carpe Tempus, f√∂nsterstorlek ca 1150x700.
‚Ä¢	√ñversta raden:
o	Label + Entry: S√∂k artikel:
o	Label + Entry: Ny artikel:
o	Knapp: Skapa artikel
o	Knapp: Uppdatera artiklar
‚Ä¢	V√§nsterpanel:
o	Rubrik: Tillg√§ngliga artiklar:
o	Tr√§dvy/lista med artiklar (artikelnummer (storlek)).
‚Ä¢	Mittenpanel (h√∂ger sida):
o	Rubrik: V√§lj operation: ‚Üí Dropdown (operationer fr√•n operations.xlsx).
o	Rubrik: Extra operat√∂rer: ‚Üí Spinbox (antal operat√∂rer).
o	Fyra knappar i rad:
ÔÇß	Bl√•: Starta st√§lltid
ÔÇß	Gr√∂n: Starta produktion
ÔÇß	R√∂d: Avsluta produktion
ÔÇß	Orange: Avvikelse
o	Textf√§lt:
ÔÇß	Anv√§ndare: [namn] (Windows-anv√§ndare).
ÔÇß	P√•g√•ende jobb: ... (artikel, operation, tid).
ÔÇß	App-sessionstid: ...
ÔÇß	Navision-sessionstid: ...
o	Statuslampor:
ÔÇß	Status: ‚óè (gr√∂n/r√∂d) ‚Üí kollar delad mapp.
ÔÇß	√Ötkomst: ‚óè (gr√∂n/r√∂d) ‚Üí v√§ntar p√• 3 diskar.
‚Ä¢	Nedre panel:
o	Rubrik: Artikeldetaljer:
o	Tabell (Treeview) med kolumner:
ÔÇß	Datum
ÔÇß	Anv√§ndare
ÔÇß	Artikel
ÔÇß	Operation
ÔÇß	Antal
ÔÇß	St√§lltid
ÔÇß	Produktionstid
ÔÇß	Typ av jobb
ÔÇß	Skrotade
ÔÇß	Tid/del (min)
‚Ä¢	Sidfot:
o	V√§nster: ¬© 2025, Emanuel Teljemo, Alla r√§ttigheter f√∂rbeh√•llna.
o	Mitten: Version: 1.0
o	H√∂ger: Knapp Kontrollera Uppdatering.
‚ÄÉ

LAYOUT
Huvudf√∂nster Titelrad: Carpe Tempus
√ñverst till v√§nster: Textf√§lt: "S√∂k artikel:" (inmatningsf√§lt bredvid texten)
√ñverst till h√∂ger: Textf√§lt: "Ny artikel:" (inmatningsf√§lt bredvid texten) Knapp: "Skapa artikel" Knapp: "Uppdatera artiklar"
V√§nsterpanel Rubrik: Tillg√§ngliga artiklar: Under rubriken: Lista (vertikal lista med artikelnummer och storlek, t.ex. "BR101046 (46x43)").
Mittenpanel (√∂vre) Rubrik: V√§lj operation: Dropdown med operationer (ex. "1 - Tillsk√§rning av Tyg").
Till h√∂ger om dropdown: Rubrik: Extra operat√∂rer: Dropdown med siffror (0‚Äì...).
Under dropdown-menyerna: Fyra stora knappar p√• rad: Bl√•: "Starta st√§lltid" Gr√∂n: "Starta produktion" R√∂d: "Avsluta produktion" Orange: "Avvikelse"
Under knapparna: Text: "Anv√§ndare: [namn]" Text: "P√•g√•ende jobb: ..." (visar artikel, operation och tid) Text: "App-sessionstid: ..." Text: "Navision-sessionstid: ..."
Mittenpanel (h√∂ger, status) Tv√• statusf√§lt med f√§rgindikatorer: "Status:" (gr√∂n prick bredvid) "√Ötkomst:" (r√∂d prick bredvid)
Nedre panel Rubrik: Artikeldetaljer: Tabell med kolumner: Datum Anv√§ndare Artikel Operation Antal St√§lltid Produktionstid Typ av jobb Skrotade Tid/del (min) Tabellen visar rader med data (tidigare jobb).
Sidfot V√§nster: Text: "¬© 2025, Emanuel Teljemo, Alla r√§ttigheter f√∂rbeh√•llna." Mitten: "Version: 1.0" H√∂ger: Knapp: "Kontrollera Uppdatering"



Layoutdelar i din kod
I din fil carpe_tempus_1_01.txt b√∂rjar sj√§lva gr√§nssnittet byggas i sektionen:
---------------------------------------------------------------------------------
[HUVUD-UI OCH PROGRAMSTART]
---------------------------------------------------------------------------------
Viktiga delar:
1.	Huvudf√∂nster
root = tk.Tk() root.title("Carpe Tempus") root.geometry("1150x700")
2.	Input-rad √∂verst (s√∂k, ny artikel, knappar)
input_frame = tk.Frame(main_frame) ... tk.Label(input_frame, text="S√∂k artikel:") tk.Entry(input_frame, textvariable=search_var) tk.Label(input_frame, text="Ny artikel:") tk.Entry(input_frame, textvariable=new_article_var) tk.Button(input_frame, text="Skapa artikel") tk.Button(input_frame, text="Uppdatera artiklar")
3.	Split-panel (v√§nster = artiklar, h√∂ger = operation + knappar + status)
split_frame = tk.Frame(main_frame) ‚Ä¢ V√§nster panel article_frame = tk.Frame(split_frame) article_selection_tree = ttk.Treeview(article_selection_frame, columns=("Article",)) ‚Ä¢ H√∂ger panel right_frame = tk.Frame(split_frame)
4.	Operation och extra operat√∂rer
operation_combobox = ttk.Combobox(operation_frame, textvariable=selected_operation) operators_spinbox = ttk.Spinbox(operators_frame, from_=0, to=10, textvariable=selected_operators)
5.	Knapparna (st√§lltid, start, stop, avvikelse)
setup_button = tk.Button(button_frame, text="Starta st√§lltid", bg="blue", fg="white") start_button = tk.Button(button_frame, text="Starta produktion", bg="green", fg="white") stop_button = tk.Button(button_frame, text="Avsluta produktion", bg="red", fg="black") deviation_button = tk.Button(button_frame, text="Avvikelse", bg="orange", fg="black")
6.	Status-indikatorer (gr√∂na/r√∂da prickar)
access_indicator = tk.Label(button_frame, text="‚óè", font=("Arial", 20), fg="red") drive_indicator = tk.Label(button_frame, text="‚óè", font=("Arial", 20), fg="red")
7.	P√•g√•ende jobb-ruta
running_frame = tk.Frame(right_frame)
8.	Artikeldetaljer-tabell
details_tree = ttk.Treeview(main_frame, columns=(...), show="headings")
9.	Sidfot (info, version, uppdateringsknapp)
info_frame = tk.Frame(root) made_by_label = tk.Label(info_frame, text="¬© 2025, Emanuel Teljemo...") tk.Label(info_frame, text=f"Version: {VERSION}")

‚ÄÉ

‚öôÔ∏è Funktioner & logik (m√•ste bevaras)
Filhantering
‚Ä¢	Lokal fil per anv√§ndare:
o	time_tracking_data.xlsx ‚Üí unikt f√∂r varje dator/anv√§ndare.
o	Endast denna fil anv√§nds f√∂r att l√§sa in data i appen.
‚Ä¢	Delade filer:
o	Vid kopiering till delad mapp d√∂ps filen om:
ÔÇß	time_tracking_data_user_2025-09-07_10-21-40.xlsx (vanlig kopia).
ÔÇß	time_tracking_data_user_2025-08-31.xlsx (daglig backup, datum i filnamnet).
o	articles.xlsx delas av alla anv√§ndare.
ÔÇß	Appen ska kunna l√§gga till nya artiklar h√§r.
ÔÇß	Ska f√• daglig backup p√• samma s√§tt som tidsfilerna.
o	operations.xlsx delas av alla anv√§ndare (endast l√§sas in).
‚Ä¢	Konfiguration:
o	Alla s√∂kv√§gar och variabler som kan √§ndras ska ligga i config.json.
o	Exempel: delad mapp, backup-mapp, filnamn, version.
Status & timers
‚Ä¢	Statuslampor:
o	Status: ‚Üí kollar om delad mapp √§r √•tkomlig.
o	√Ötkomst: ‚Üí v√§ntar p√• att tre specifika diskar ska dyka upp (via Windows).
‚Ä¢	Timers:
o	Tid fr√•n att appen startas tills "√Ötkomst" blir OK.
o	Appens sessionstid.
o	Navision-processens tid (aktiv/inaktiv).
Jobb & interaktion
‚Ä¢	Artiklar:
o	S√∂kning i listan.
o	Skapa ny artikel via inputf√§lt.
o	Uppdatera artiklar (refresh fr√•n articles.xlsx).
‚Ä¢	Operationer:
o	Dropdown laddas fr√•n operations.xlsx.
o	Extra operat√∂rer kan v√§ljas via Spinbox.
‚Ä¢	Knappar:
o	Starta st√§lltid ‚Üí loggar starttid som setup.
o	Starta produktion ‚Üí loggar start av produktion.
o	Avsluta produktion ‚Üí loggar avslut + r√§knar produktionstid.
o	Avvikelse ‚Üí loggar s√§rskild rad som avvikelse.
‚Ä¢	Loggning:
o	H√§ndelser skrivs i:
ÔÇß	time_tracking_log.txt (vanlig logg).
ÔÇß	time_tracking_data.xlsx (strukturerad data).
‚Ä¢	P√•g√•ende jobb:
o	Visar vilken artikel + operation som k√∂rs + tid.


________________________________________
üìÇ F√∂reslagen modulstruktur
carpe_alfa/
‚îÇ‚îÄ‚îÄ main.py              # Startpunkten, laddar config, startar UI
‚îÇ‚îÄ‚îÄ config.json          # Alla s√∂kv√§gar och inst√§llningar
‚îÇ
‚îî‚îÄ‚îÄ app/
    ‚îÇ‚îÄ‚îÄ __init__.py
    ‚îÇ‚îÄ‚îÄ ui.py            # Layout och widgets
    ‚îÇ‚îÄ‚îÄ utils.py         # Hj√§lpfunktioner (tider, anv√§ndarnamn, formatering)
    ‚îÇ‚îÄ‚îÄ file_handler.py  # Excel-hantering, backup, kopiering
    ‚îÇ‚îÄ‚îÄ status.py        # Kollar delad mapp, diskar, Navision-process
    ‚îÇ‚îÄ‚îÄ timers.py        # Sessionstider och Navision-tid
    ‚îÇ‚îÄ‚îÄ articles.py      # Laddar, skapar, sparar, backar upp artiklar
    ‚îÇ‚îÄ‚îÄ operations.py    # Laddar operationer
________________________________________
üîë Viktiga krav
1.	Layouten f√•r inte √§ndras (m√•ste matcha originalet visuellt).
2.	Funktionerna (timers, status, filhantering, backup) ska fungera exakt som i originalet.
3.	Konfiguration via config.json (inga h√•rdkodade s√∂kv√§gar i koden).
4.	Alla moduler ska vara kortare och mer l√§sbara √§n monolitkoden.
________________________________________
‚ÄÉ


F√ñRSLAG P√Ö ‚Äúconfig.json‚Äù
{
  "app": {
    "version": "1.0",
    "title": "Carpe Tempus",
    "window_size": "1150x700"
  },

  "paths": {
    "local_data_file": "time_tracking_data.xlsx",
    "log_file": "time_tracking_log.txt",
    "last_backups_file": "last_backups.txt",

    "shared_folder": "Z:/CarpeShared",        
    "backup_folder": "Z:/CarpeShared/Backups",

    "articles_file": "Z:/CarpeShared/articles.xlsx",
    "operations_file": "Z:/CarpeShared/operations.xlsx"
  },

  "backup": {
    "time_data_daily": true,
    "articles_daily": true,
    "time_format": "%Y-%m-%d_%H-%M-%S",
    "date_format": "%Y-%m-%d"
  },

  "status": {
    "required_drives": ["X:", "Y:", "Z:"],
    "shared_folder_check": true,
    "navision_process_name": "navision.exe"
  },

  "ui": {
    "font": "Arial",
    "font_size": 10,
    "status_indicator_size": 20
  }
}
